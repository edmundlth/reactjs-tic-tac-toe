(this["webpackJsonpreactjs-tic-tac-toe"]=this["webpackJsonpreactjs-tic-tac-toe"]||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(2),i=n(4),s=n(3),o=n(0),u=n.n(o),l=n(6),c=n.n(l);n(12);function h(t){return u.a.createElement("button",{className:"square",onClick:t.onClick},t.value)}var m=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"renderSquare",value:function(t){var e=this;return u.a.createElement(h,{value:this.props.boardState[t],onClick:function(){return e.props.onClick(t)}})}},{key:"renderRow",value:function(t,e){for(var n=[],r=0;r<t;r++)n.push(this.renderSquare(e+r));return u.a.createElement("div",{className:"board-row"},n)}},{key:"renderBoard",value:function(t,e){for(var n=[],r=0;r<t*e;r+=e)n.push(this.renderRow(e,r));return u.a.createElement("div",{className:"game-board"},n)}},{key:"render",value:function(){return u.a.createElement("div",null,this.renderBoard(this.props.numRow,this.props.numCol))}}]),n}(u.a.Component);Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]});var f=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).numRow=t.numRow,a.numCol=t.numCol,a.freshState={history:[Array(a.numRow*a.numCol).fill(null)],xIsNext:!0},a.state=JSON.parse(JSON.stringify(a.freshState)),a}return Object(a.a)(n,[{key:"handleClick",value:function(t){var e=this.state.history.slice(),n=e.last().slice();this.getWinner()||n[t]||(n[t]=this.state.xIsNext?"X":"O",this.setState({history:e.concat([n]),xIsNext:!this.state.xIsNext}))}},{key:"getWinner",value:function(){return this.checkWin("X")?"X":this.checkWin("O")?"O":null}},{key:"checkWin",value:function(t){if(this._checkArray(this._getDiag(!1),t)||this._checkArray(this._getDiag(!0),t))return!0;for(var e=0;e<this.numRow;e++)if(this._checkArray(this._getRow(e),t))return!0;for(var n=0;n<this.numCol;n++)if(this._checkArray(this._getCol(n),t))return!0;return!1}},{key:"_getRow",value:function(t){for(var e,n=[],r=0;r<this.numCol;r++)e=t*this.numCol+r,n.push(this.state.history.last()[e]);return n}},{key:"_getCol",value:function(t){for(var e=[],n=t;n<this.numRow*this.numCol;n+=this.numCol)e.push(this.state.history.last()[n]);return e}},{key:"_getDiag",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?-1:1,n=[],r=t?this.numCol-1:0;r<this.numCol*this.numRow+e;r+=this.numCol+e)n.push(this.state.history.last()[r]);return n}},{key:"_checkArray",value:function(t,e){return function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(t,Array(t.length).fill(e))}},{key:"undo",value:function(){if(!(this.state.history.length<=1)){var t=this.state.history.slice();t.pop(),this.setState({history:t,xIsNext:!this.state.xIsNext})}}},{key:"render",value:function(){var t=this,e="Next player: ".concat(this.state.xIsNext?"X":"O"),n=this.getWinner();return null!=n&&(e="Winner: ".concat(n)),u.a.createElement("div",{className:"game"},u.a.createElement("div",{className:"game-board"},u.a.createElement(m,{numRow:this.numRow,numCol:this.numCol,boardState:this.state.history.last(),onClick:function(e){return t.handleClick(e)}})),u.a.createElement("div",{className:"game-info"},u.a.createElement("div",{className:"status"},e),u.a.createElement("button",{className:"refesh-button",onClick:function(){return t.setState(JSON.parse(JSON.stringify(t.freshState)))}},"Restart"),u.a.createElement("button",{className:"undo-button",onClick:function(){return t.undo()}},"Undo")))}}]),n}(u.a.Component),v=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={date:new Date},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return u.a.createElement("p",null,"Time: ",this.state.date.toLocaleTimeString())}}]),n}(u.a.Component);c.a.render(u.a.createElement("div",null,u.a.createElement(v,null),u.a.createElement(f,{numRow:3,numCol:3})),document.getElementById("root"))},7:function(t,e,n){t.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.8ba09058.chunk.js.map